on: [push]

jobs:
  hello_world_job:
    runs-on: ubuntu-24.04
    name: A job to say hello
    steps:
      - name: Checkout code
        uses: actions/checkout@v3  # <- Must come first!
        
      - name: Hello world action step
        id: hello
        uses: ./local-action
        with:
          who-to-greet: 'Motoko'
      # Use the output from the `hello` step
      - name: Get the output time
        run: echo "The time was ${{ steps.hello.outputs.time }}"
      
      - uses: actions/upload-artifact@v4
        with:
          name: junit-report
          path: python-report.xml
          
      - name: Publish Test Results
        uses: dorny/test-reporter@v1
        if: always()  # ensures it runs even if tests fail
        with:
          name: JUnit Tests
          path: python-report.xml
          reporter: java-junit  # for JUnit XML format
